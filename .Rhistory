library(swirl)
swirl()
x <- c(44, NA, 5, NA)
x*3
y <- rnorm(1000)
z <- rep(NA, 100)
z <- rep(NA, 1000)
my_data <- sample(c(y, z), 100)
my_na <- is.na(my_data)
my_na
my_data == NA
sum(my_na)
my_data
0/0
Inf-Inf
x
x[1:10]
x[is.na(x)]
y <- x[!is.na(x)]
y
y[y>0]
x[x>0]
-- x[!is.na(x) & x>0]
x[!is.na(x) & x>0]
x[c(3, 5, 7)]
x[0]
x[3000]
x[c(-2, -10)]
x[-c(2, 10)]
vect <- c(foo=11, bar=2, norf= NA)
vect
names(vect)
vect2 <- c(11, 2, NA)
names(vect2) <- c("foo", "bar", "norf")
identical
identical(vect, vect2)
vect["bar"]
vect[c("foo", "bar")]
pollutantmean <- function(directory, pollutant, id = 1:332) {
path = directory
fileList = list.files(path)
files.names = as.numeric(sub("\\.csv$", "", fileList))
selected.files = fileList[match(id, file.names)]
Data = lapply(file.path(path, selected.files), read.csv)
Data = do.call(rbind.data.frame, Data)
mean(Data[, pollutant], na.rm=TRUE]
pollutantmean <- function(directory, pollutant, id = 1:332) {
+ path = directory
+ fileList = list.files(path)
+ files.names = as.numeric(sub("\\.csv$", "", fileList))
+ selected.files = fileList[match(id, file.names)]
+ Data = lapply(file.path(path, selected.files), read.csv)
+ Data = do.call(rbind.data.frame, Data)
+ mean(Data[, pollutant], na.rm=TRUE)
}
pollutantmean(specdata, "niterate", 1:10)
getwd()
pollutantmean <- function(directory, pollutant, id = 1:332) {
path = directory
fileList = list.files(path)
files.names = as.numeric(sub("\\.csv$", "", fileList))
selected.files = fileList[match(id, file.names)]
Data = lapply(file.path(path, selected.files), read.csv)
Data = do.call(rbind.data.frame, Data)
mean(Data[, pollutant], na.rm=TRUE)
}
pollutantmean(specdata, "nitrate", 1:10)
pollutantmean("specdata", "nitrate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332) {
  file.names <- list.files(directory)
  file.numbers <- as.numeric(sub('\\.csv$','', file.names))
  selected.files <- na.omit(file.names[match(id, file.numbers)])
  selected.dfs <- lapply(file.path(directory,selected.files), read.csv)
  mean(c(sapply(selected.dfs, function(x) x[ ,pollutant])), na.rm=TRUE)
}
pollutantmean('specdata', 'nitrate', c(1:100, 141))
getwd()
list.files()
pollutantmean <- function(directory, pollutant = "sulfate", id = 1:332) {
if(grep("specdata", directory) == 1) {
directory <- ("./specdata/")
}
mean_vector <- c()
all_files <-as.character( list.files(directory))
files_paths <- paste(directory, all_files, sep="")
for(i in id){
current_file <- read.csv(files_paths[i], header=T, sep=",")
head(current_file)
pollutant
na_removed <- current_file[!is.na(current_file[, pollutant]), pollutant]
mean_vector <- c(mean_vector, na_removed)
}
result <- mean(mean_vector)
return(round(result, 3))
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
q()
